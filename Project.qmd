---
title: "Project 1"
subtitle: "Downscaling"
jupyter: julia-1.9
date: 2023-11-13
author: "Cristobal Spielmann (cs181)"

number-sections: true
code-annotations: hover

kind: "Project"
Module: "3"
categories:
    - "Project 1"
    - "Projects"

format:
    html: 
        toc-depth: 3
    docx: 
        toc: true
        toc-depth: 3
        fig-format: png
---

## Introduction

```{julia}
using Dates
using MultivariateStats
using Plots
using NCDatasets
using StatsBase
using Unitful
```

We have imported hourly temperature data from the ERA5 reanalysis dataset, which encompasses temperature of air at 2m above the surface of land

```{julia}
precip_tx = NCDataset("data/raw/precip_tx.nc")
precip_time = precip_tx["time"][:]
precip_lon = precip_tx["lon"][:]
precip_lat = precip_tx["lat"][:]
precip = precip_tx["precip"][:, :, :]
```

```{julia}
precip = precip .* 1u"mm"
precip_lat = reverse(precip_lat)
precip = reverse(precip; dims=2)
```

```{julia}
heatmap(
    precip_lon,
    precip_lat,
    precip[:, :, 1]';
    xlabel="Longitude",
    ylabel="Latitude",
    title="Precipitation on $(precip_time[1])"
    )
```

```{julia}
temp_tx = NCDataset("data/raw/2m_temperature_1980.nc")
temp_time = temp_tx["time"][:]
temp_lon = temp_tx["longitude"][:]
temp_lat = temp_tx["latitude"][:]
temp = temp_tx[:t2m][:, :, :]
display(temp_tx[:t2m])
close(temp_tx)
```
